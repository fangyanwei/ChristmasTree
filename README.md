# 🎄 3D 炫酷圣诞树

一个基于 Three.js 的交互式 3D 圣诞树可视化项目，包含丰富的粒子特效、后期处理和实时交互功能。

![Christmas Tree Preview](preview.png)

## ✨ 项目特点

### 🌲 核心视觉
- **粒子化树体**：使用 3000+ 个四面体粒子通过螺旋算法分布，模拟茂密的针叶效果
- **InstancedMesh 高性能渲染**：装饰球 (400个) 和礼盒 (200个) 使用实例化渲染，保证流畅体验
- **立体五角星**：树顶使用 ExtrudeGeometry 生成的立体五角星，带呼吸光效

### 🎆 特效系统
- **聚合开场动画**：页面加载时，所有粒子从四面八方飞入聚合成圣诞树（Vertex Shader 实现）
- **线性加速效果**：聚合动画由慢到快，更具冲击力
- **高清雪花**：Canvas 程序化绘制的六角形雪花纹理
- **真实烟花**：火箭升空 + 多彩爆炸的完整烟花系统

### 🎛️ 交互控制
- **lil-gui 控制面板**：全中文界面，实时调节各项参数
- **鼠标交互**：悬停装饰球时高亮变色
- **自动旋转**：聚合完成后自动开始缓慢旋转

### 📸 后期处理
- **Bloom 辉光**：让发光物体产生梦幻光晕
- **Bokeh 景深**：模拟相机对焦的电影级效果
- **动态光照**：方向光跟随相机，保证各角度亮度一致

## 🔧 技术优化

### 性能优化
| 优化项 | 技术方案 |
|--------|----------|
| 大量物体渲染 | InstancedMesh 实例化渲染 |
| 粒子动画 | Vertex Shader 注入，GPU 计算 |
| 内存管理 | 烟花消失后及时 dispose 几何体和材质 |

### 视觉优化
| 优化项 | 具体改进 |
|--------|----------|
| 树叶可见度 | 添加 emissive 自发光属性 |
| 光照一致性 | 方向光跟随相机位置 |
| 色彩纯正度 | 调整色板为更自然的红/蓝/黄/绿/金 |
| 远景烟花 | 增大生成距离，模拟远处绽放效果 |

### 用户体验优化
- 全中文 GUI 控制面板
- 一键重置参数按钮
- 雪花数量/尺寸、烟花频率实时可调

## 🚀 快速开始

### 本地运行
```bash
# 进入项目目录
cd Test

# 启动本地服务器
npx serve .

# 访问 http://localhost:3000
```

### 在线预览
👉 [点击这里查看在线演示](https://your-username.github.io/christmas-tree/)

## 📁 项目结构
```
Test/
├── index.html      # HTML 入口
├── style.css       # 样式文件
├── main.js         # 主程序（含完整中文注释）
└── README.md       # 项目说明
```

## 🎮 控制面板说明

| 分组 | 参数 | 说明 |
|------|------|------|
| ✨ 辉光效果 | 强度/半径/阈值 | 控制发光物体的光晕效果 |
| 📷 相机景深 | 焦距/光圈/模糊 | 调节背景虚化程度 |
| 🔄 动画控制 | 旋转速度/灯光速度 | 控制动画播放速度 |
| ✨ 特效调节 | 雪花尺寸/数量/烟花频率 | 调节粒子特效密度 |

## 🛠️ 技术栈
- **Three.js** - 3D 渲染引擎
- **lil-gui** - 轻量级 GUI 库
- **GLSL** - 顶点着色器（聚合动画）
- **Canvas 2D** - 程序化纹理生成

## 📜 开源协议
MIT License

---

🎅 祝您圣诞快乐！Merry Christmas! 🎄✨
